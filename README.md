# QRコード・バーコードスキャナー

## 概要
このプロジェクトは、Webブラウザ上で動作する高精度なQRコード・バーコードスキャナーアプリケーションです。デバイスのカメラを使用してリアルタイムでQRコードやバーコードをスキャンし、その内容を表示・管理することができます。高速スキャンモードにより、複数のコードを連続で読み取ることが可能です。

## 主な機能

### 🚀 高速スキャン機能
- **常時高速スキャン**: 0.5秒間隔での連続スキャン
- **複数コード対応**: 異なるQRコード・バーコードを連続で読み取り
- **高解像度対応**: 1280x720〜2560x1440の高解像度カメラ対応
- **リアルタイム処理**: 2フレームごとの高速フレーム処理

### 📱 カメラ機能
- **リアルタイムスキャン**: デバイスカメラを使用した即座の読み取り
- **高解像度対応**: iPhone 15の48MPカメラ等の最新デバイス対応
- **フレームレート最適化**: 20-45fpsの適応的フレームレート
- **環境カメラ優先**: 背面カメラを優先的に使用

### 📁 画像ファイル読み取り
- **画像アップロード**: 画像ファイルからのQRコード・バーコード読み取り
- **高解像度対応**: 最大2560pxの画像サイズ対応
- **複数形式対応**: JPG、PNG、WebP等の主要画像形式

### 📋 履歴管理機能
- **スキャン履歴**: 最新12件のスキャン履歴を保持
- **自動リセット**: アプリ再読み込み時に履歴を自動クリア
- **手動クリア**: 履歴の手動クリア機能
- **メモリクリア**: 完全なメモリリセット機能

### 🛠️ メモリ管理
- **自動クリーンアップ**: 30秒間隔でのメモリ最適化
- **メモリリーク防止**: 適切なリソース管理とクリーンアップ
- **パフォーマンス最適化**: 継続的な軽量化と安定性確保

### 🎯 対応バーコード形式
- **QRコード**: QR Code
- **1次元バーコード**: EAN-13, EAN-8, UPC-A, UPC-E
- **工業用バーコード**: CODE-39, CODE-93, CODE-128, ITF
- **特殊バーコード**: CODABAR, PDF-417, AZTEC, DATA MATRIX

## 技術スタック
- **フレームワーク**: Next.js 15.3.2
- **言語**: TypeScript
- **スキャンライブラリ**: @zxing/library, @zxing/browser
- **スタイリング**: Tailwind CSS 4
- **フォント**: M PLUS Rounded 1c
- **デプロイ**: Vercel

## 動作環境
- **ブラウザ**: Chrome, Safari, Firefox, Edge（最新版）
- **デバイス**: カメラ機能をサポートするデバイス
- **モバイル**: iOS 12+, Android 8+
- **デスクトップ**: Windows 10+, macOS 10.15+, Linux

## セットアップ手順

### 1. リポジトリのクローン
```bash
git clone https://github.com/2023311035/qr-scanner-next.git
cd qr-scanner-next
```

### 2. 依存関係のインストール
```bash
npm install
```

### 3. 開発サーバーの起動
```bash
npm run dev
```

### 4. ブラウザでアクセス
```
http://localhost:3002
```

### 5. 本番ビルド
```bash
npm run build
npm start
```

## 使用方法

### カメラスキャン
1. アプリを起動し、「QRコードスキャン」ボタンをクリック
2. カメラの使用許可を承認
3. QRコード・バーコードをカメラに向ける
4. 0.5秒間隔で自動スキャン
5. スキャン結果が履歴に表示

### 画像ファイル読み取り
1. 「画像ファイルから読み取る」ボタンをクリック
2. QRコード・バーコードが含まれる画像を選択
3. 自動的にデコードされ、結果が表示

### 履歴管理
- **履歴確認**: スキャン履歴セクションで確認
- **履歴クリア**: 「履歴をクリア」ボタンで履歴のみ削除
- **メモリクリア**: 「メモリクリア」ボタンで完全リセット

## カメラ設定
- **解像度**: 1280x720〜2560x1440（高解像度対応）
- **フレームレート**: 20-45fps（適応的調整）
- **スキャン間隔**: 0.5秒（500ms）
- **フレーム処理**: 2フレームごと
- **重複防止**: 同じコードは5秒間無視

## パフォーマンス最適化
- **メモリ管理**: 自動クリーンアップとリーク防止
- **処理最適化**: Canvas処理の効率化
- **解像度調整**: 処理用解像度の最適化
- **フレーム制御**: 適切なフレーム間隔設定

## 注意事項
- **カメラ許可**: カメラの使用許可が必要です
- **照明条件**: 良好な照明条件での使用を推奨
- **デバイス性能**: 高解像度カメラでより良い精度
- **ブラウザ対応**: HTTPS環境でのカメラアクセスが必要

## デプロイメント
このプロジェクトはVercelで自動デプロイされています。

### 自動デプロイ
- mainブランチへのプッシュで自動デプロイ
- プレビューデプロイで動作確認
- 本番環境への即座反映

### 手動デプロイ
```bash
npm run build
vercel --prod
```

## 開発者向け情報

### 開発環境
- **ホットリロード**: リアルタイムでの変更反映
- **TypeScript**: 型安全な開発環境
- **ESLint**: コード品質の自動チェック
- **Tailwind CSS**: 効率的なスタイリング

### ファイル構成
```
src/
├── app/                 # Next.js App Router
│   ├── layout.tsx      # ルートレイアウト
│   └── page.tsx        # メインページ
├── components/         # Reactコンポーネント
│   └── QRScanner.tsx   # メインスキャナーコンポーネント
└── types/             # TypeScript型定義
```

### 主要コンポーネント
- **QRScanner**: メインスキャナー機能
- **Home**: アプリケーションのエントリーポイント
- **Layout**: 共通レイアウトとフォント設定

## ライセンス
MITライセンス

## 貢献
プルリクエストやイシューの報告を歓迎します。

## 更新履歴
- **v0.1.0**: 初期リリース
- **最新**: 高速スキャンモード、メモリ管理最適化、自動リセット機能追加


